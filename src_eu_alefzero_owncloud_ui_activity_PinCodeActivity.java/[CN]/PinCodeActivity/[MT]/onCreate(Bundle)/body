{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.pincodelock);
  Intent intent=getIntent();
  activity=intent.getStringExtra(EXTRA_ACTIVITY);
  bCancel=(Button)findViewById(R.id.cancel);
  mPinHdr=(TextView)findViewById(R.id.pinHdr);
  mText1=(EditText)findViewById(R.id.txt1);
  mText1.requestFocus();
  getWindow().setSoftInputMode(android.view.WindowManager.LayoutParams.SOFT_INPUT_STATE_VISIBLE);
  mText2=(EditText)findViewById(R.id.txt2);
  mText3=(EditText)findViewById(R.id.txt3);
  mText4=(EditText)findViewById(R.id.txt4);
  SharedPreferences appPrefs=PreferenceManager.getDefaultSharedPreferences(getApplicationContext());
  if ((appPrefs.getString("PrefPinCode1",null) == null)) {
    setInitView();
    pinCodeChecked=true;
    newPasswordEntered=true;
  }
 else   if (appPrefs.getBoolean("set_pincode",false)) {
    if (activity.equals("preferences")) {
      mPinHdr.setText(R.string.pincode_configure_your_pin);
      setChangePincodeView(true);
    }
 else {
      bCancel.setVisibility(View.INVISIBLE);
      bCancel.setVisibility(View.GONE);
      mPinHdr.setText(R.string.pincode_enter_pin_code);
      setChangePincodeView(false);
    }
  }
 else {
    mPinHdr.setText(R.string.pincode_enter_pin_code);
    pinCodeChecked=true;
    setChangePincodeView(true);
  }
  setTextListeners();
}
