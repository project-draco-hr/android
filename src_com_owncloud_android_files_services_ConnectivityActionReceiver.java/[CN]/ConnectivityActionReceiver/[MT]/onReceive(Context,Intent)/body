{
  Log.v(TAG,"action: " + intent.getAction());
  Log.v(TAG,"component: " + intent.getComponent());
  Bundle extras=intent.getExtras();
  if (extras != null) {
    for (    String key : extras.keySet()) {
      Log.v(TAG,"key [" + key + "]: "+ extras.get(key));
    }
  }
 else {
    Log.v(TAG,"no extras");
  }
  if (intent.getAction().equals(WifiManager.NETWORK_STATE_CHANGED_ACTION)) {
    NetworkInfo networkInfo=intent.getParcelableExtra(WifiManager.EXTRA_NETWORK_INFO);
    if (networkInfo.isConnected()) {
      Log.d(TAG,"Wifi is connected: " + String.valueOf(networkInfo));
      wifiConnected(context);
    }
  }
 else   if (intent.getAction().equals(ConnectivityManager.CONNECTIVITY_ACTION)) {
    ConnectivityManager cm=(ConnectivityManager)context.getSystemService(Context.CONNECTIVITY_SERVICE);
    NetworkInfo networkInfo=cm.getActiveNetworkInfo();
    if (networkInfo == null || networkInfo.getType() == ConnectivityManager.TYPE_WIFI && !networkInfo.isConnected()) {
      Log.d(TAG,"Wifi is disconnected: " + String.valueOf(networkInfo));
      wifiDisconnected(context);
    }
  }
}
