{
  String accountName=intent.getStringExtra(FileDownloader.ACCOUNT_NAME);
  String downloadedRemotePath=intent.getStringExtra(FileDownloader.EXTRA_REMOTE_PATH);
  if (mAccount.name.equals(accountName) && downloadedRemotePath != null) {
    OCFile file=mStorageManager.getFileByPath(downloadedRemotePath);
    int position=mPreviewImagePagerAdapter.getFilePosition(file);
    boolean downloadWasFine=intent.getBooleanExtra(FileDownloader.EXTRA_DOWNLOAD_RESULT,false);
    boolean isCurrent=(mViewPager.getCurrentItem() == position);
    if (position >= 0) {
      if (downloadWasFine) {
        mPreviewImagePagerAdapter.updateFile(position,file);
        mPreviewImagePagerAdapter.notifyDataSetChanged();
      }
 else       if (isCurrent) {
        updateCurrentDownloadFragment(false);
      }
    }
 else {
      Log.e(TAG,"DOWNLOADED FILE NOT FOUND IN ADAPTER ");
    }
  }
  removeStickyBroadcast(intent);
}
