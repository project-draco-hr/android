{
  AccountManager ama=AccountManager.get(context);
  String baseurl=ama.getUserData(account,OwnCloudAccount.Constants.KEY_OC_BASE_URL);
  String strver=ama.getUserData(account,OwnCloudAccount.Constants.KEY_OC_VERSION);
  boolean supportsOAuth=(ama.getUserData(account,OwnCloudAccount.Constants.KEY_SUPPORTS_OAUTH2) != null);
  boolean supportsSamlSso=(ama.getUserData(account,OwnCloudAccount.Constants.KEY_SUPPORTS_SAML_WEB_SSO) != null);
  OwnCloudVersion ver=new OwnCloudVersion(strver);
  String webdavpath=getWebdavPath(ver,supportsOAuth,supportsSamlSso);
  if (baseurl == null || webdavpath == null)   throw new AccountNotFoundException(account,"Account not found",null);
  return baseurl + webdavpath;
}
