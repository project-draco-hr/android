{
  prepareStreamsToUpload();
  if (savedInstanceState == null) {
    mParents=new Stack<String>();
    mAccountSelected=false;
  }
 else {
    mParents=(Stack<String>)savedInstanceState.getSerializable(KEY_PARENTS);
    mFile=savedInstanceState.getParcelable(KEY_FILE);
    mAccountSelected=savedInstanceState.getBoolean(KEY_ACCOUNT_SELECTED);
  }
  super.onCreate(savedInstanceState);
  if (PinCheck.checkIfPinEntry()) {
    Intent i=new Intent(MainApp.getAppContext(),PinCodeActivity.class);
    i.putExtra(PinCodeActivity.EXTRA_ACTIVITY,"ownCloudUploader");
    startActivity(i);
  }
  ActionBar actionBar=getSupportActionBar();
  actionBar.setIcon(DisplayUtils.getSeasonalIconId());
}
