{
  FileFragment fragment=(FileFragment)getSupportFragmentManager().findFragmentByTag(FileDetailFragment.FTAG);
  if (fragment != null && fragment.getFile() != null && (newConfig.screenLayout & Configuration.SCREENLAYOUT_SIZE_MASK) >= Configuration.SCREENLAYOUT_SIZE_LARGE && newConfig.orientation != Configuration.ORIENTATION_LANDSCAPE) {
    onFileClick(fragment.getFile(),true);
    FragmentTransaction transaction=getSupportFragmentManager().beginTransaction();
    transaction.remove((Fragment)fragment);
    transaction.commit();
  }
 else {
    finish();
    Intent intent=new Intent(this,FileDisplayActivity.class);
    intent.putExtra(FileDetailFragment.EXTRA_FILE,mCurrentDir);
    intent.putExtra(FileDetailFragment.EXTRA_ACCOUNT,AccountUtils.getCurrentOwnCloudAccount(this));
    if (fragment != null && fragment.getFile() != null)     startActivity(intent);
  }
}
