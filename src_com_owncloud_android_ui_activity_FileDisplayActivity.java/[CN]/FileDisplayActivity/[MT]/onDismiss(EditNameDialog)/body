{
  if (dialog.getResult()) {
    String newDirectoryName=dialog.getNewFilename().trim();
    Log_OC.d(TAG,"'create directory' dialog dismissed with new name " + newDirectoryName);
    if (newDirectoryName.length() > 0) {
      String path;
      if (getFile() == null) {
        if (!mStorageManager.fileExists(OCFile.PATH_SEPARATOR)) {
          OCFile file=new OCFile(OCFile.PATH_SEPARATOR);
          mStorageManager.saveFile(file);
        }
        setFile(mStorageManager.getFileByPath(OCFile.PATH_SEPARATOR));
      }
      path=FileDisplayActivity.this.getFile().getRemotePath();
      path+=newDirectoryName + OCFile.PATH_SEPARATOR;
      RemoteOperation operation=new CreateFolderOperation(path,getFile().getFileId(),mStorageManager);
      operation.execute(getAccount(),FileDisplayActivity.this,FileDisplayActivity.this,mHandler,FileDisplayActivity.this);
      showDialog(DIALOG_SHORT_WAIT);
    }
  }
}
