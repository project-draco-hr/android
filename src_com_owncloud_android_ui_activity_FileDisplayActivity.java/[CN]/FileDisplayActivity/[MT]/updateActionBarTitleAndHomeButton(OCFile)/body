{
  ActionBar actionBar=getSupportActionBar();
  int actionBarTitleId=getResources().getIdentifier("action_bar_title","id","android");
  if (chosenFile == null || mDualPane) {
    OCFile currentDir=getCurrentDir();
    boolean noRoot=(currentDir != null && currentDir.getParentId() != 0);
    actionBar.setDisplayHomeAsUpEnabled(true);
    actionBar.setDisplayShowTitleEnabled(true);
    mDrawerToggle.setDrawerIndicatorEnabled(!noRoot);
    if (!noRoot) {
      actionBar.setTitle(getString(R.string.default_display_name_for_root_folder));
      View actionBarTitleView=getWindow().getDecorView().findViewById(actionBarTitleId);
      if (actionBarTitleView != null) {
        actionBarTitleView.setContentDescription(getString(R.string.default_display_name_for_root_folder));
      }
    }
    actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_STANDARD);
  }
 else {
    actionBar.setDisplayHomeAsUpEnabled(true);
    actionBar.setDisplayShowTitleEnabled(true);
    mDrawerToggle.setDrawerIndicatorEnabled(false);
    actionBar.setTitle(chosenFile.getFileName());
    actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_STANDARD);
    View actionBarTitleView=getWindow().getDecorView().findViewById(actionBarTitleId);
    if (actionBarTitleView != null) {
      getWindow().getDecorView().findViewById(actionBarTitleId).setContentDescription(chosenFile.getFileName());
    }
  }
}
