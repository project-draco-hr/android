{
  Log.d(getClass().toString(),"onSaveInstanceState() start");
  super.onSaveInstanceState(outState);
  outState.putParcelable(FileDetailFragment.EXTRA_FILE,mCurrentDir);
  if (mDualPane) {
    FileFragment fragment=(FileFragment)getSupportFragmentManager().findFragmentByTag(FileDetailFragment.FTAG);
    if (fragment != null) {
      OCFile file=fragment.getFile();
      if (file != null) {
        outState.putParcelable(FileDetailFragment.EXTRA_FILE,file);
      }
    }
  }
  outState.putParcelable(FileDetailActivity.KEY_WAITING_TO_PREVIEW,mWaitingToPreview);
  Log.d(getClass().toString(),"onSaveInstanceState() end");
}
