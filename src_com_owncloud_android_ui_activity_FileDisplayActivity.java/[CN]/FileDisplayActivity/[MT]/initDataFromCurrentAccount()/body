{
  mStorageManager=new FileDataStorageManager(AccountUtils.getCurrentOwnCloudAccount(this),getContentResolver());
  if (mCurrentDir != null && !mCurrentDir.isDirectory()) {
    mCurrentFile=mCurrentDir;
    mCurrentDir=mStorageManager.getFileById(mCurrentDir.getParentId());
  }
  if (mCurrentDir != null) {
    mCurrentDir=mStorageManager.getFileByPath(mCurrentDir.getRemotePath());
  }
  if (mCurrentFile != null) {
    if (mCurrentFile.fileExists()) {
      mCurrentFile=mStorageManager.getFileByPath(mCurrentFile.getRemotePath());
    }
  }
  if (mCurrentDir == null) {
    mCurrentDir=mStorageManager.getFileByPath("/");
  }
}
