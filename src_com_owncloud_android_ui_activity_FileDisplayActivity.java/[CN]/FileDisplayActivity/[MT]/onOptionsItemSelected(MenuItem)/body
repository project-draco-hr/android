{
  boolean retval=true;
switch (item.getItemId()) {
case R.id.action_create_dir:
{
      CreateFolderDialogFragment dialog=CreateFolderDialogFragment.newInstance(getCurrentDir());
      dialog.show(getSupportFragmentManager(),"createdirdialog");
      break;
    }
case R.id.action_sync_account:
{
    startSynchronization();
    break;
  }
case R.id.action_upload:
{
  showDialog(DIALOG_CHOOSE_UPLOAD_SOURCE);
  break;
}
case R.id.action_settings:
{
Intent settingsIntent=new Intent(this,Preferences.class);
startActivity(settingsIntent);
break;
}
case android.R.id.home:
{
FileFragment second=getSecondFragment();
OCFile currentDir=getCurrentDir();
if ((currentDir != null && currentDir.getParentId() != 0) || (second != null && second.getFile() != null)) {
onBackPressed();
}
break;
}
case R.id.action_sort:
{
AlertDialog.Builder builder=new AlertDialog.Builder(this);
builder.setTitle(R.string.actionbar_sort_title).setItems(R.array.actionbar_sortby,new DialogInterface.OnClickListener(){
public void onClick(DialogInterface dialog,int which){
Log_OC.d("default view"," number " + which + "clicked");
switch (which) {
case 0:
  sortByName(true);
break;
case 1:
sortByName(false);
break;
case 2:
sortByDate(true);
break;
case 3:
sortByDate(false);
break;
case 4:
sortBySize(true);
break;
case 5:
sortBySize(false);
break;
}
}
}
);
builder.create();
builder.show();
break;
}
default :
retval=super.onOptionsItemSelected(item);
}
return retval;
}
