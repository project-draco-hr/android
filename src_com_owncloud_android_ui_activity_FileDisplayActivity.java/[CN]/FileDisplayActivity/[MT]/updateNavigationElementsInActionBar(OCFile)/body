{
  ActionBar actionBar=getSupportActionBar();
  if (chosenFile == null || mDualPane) {
    OCFile currentDir=getCurrentDir();
    actionBar.setDisplayHomeAsUpEnabled(currentDir != null && currentDir.getParentId() != 0);
    actionBar.setDisplayShowTitleEnabled(false);
    actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);
    actionBar.setListNavigationCallbacks(mDirectories,this);
  }
 else {
    actionBar.setDisplayHomeAsUpEnabled(true);
    actionBar.setDisplayShowTitleEnabled(true);
    actionBar.setTitle(chosenFile.getFileName());
    actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_STANDARD);
  }
}
