{
  OCFile renamedFile=operation.getFile();
  if (result.isSuccess()) {
    FileFragment details=getSecondFragment();
    if (details != null && renamedFile.equals(details.getFile())) {
      if (details instanceof FileDetailFragment) {
        ((FileDetailFragment)details).updateFileDetails(renamedFile,getAccount());
        showDetails(renamedFile);
      }
 else       if (details instanceof PreviewAudioFragment) {
        ((PreviewAudioFragment)details).updateFile(renamedFile);
        if (PreviewAudioFragment.canBePreviewed(renamedFile)) {
          int position=((PreviewAudioFragment)details).getPosition();
          startAudioPreview(renamedFile,position,true);
        }
 else {
          getFileOperationsHelper().openFile(renamedFile);
        }
      }
 else       if (details instanceof PreviewVideoFragment) {
        ((PreviewVideoFragment)details).updateFile(renamedFile);
        if (PreviewVideoFragment.canBePreviewed(renamedFile)) {
          int position=((PreviewVideoFragment)details).getPosition();
          startVideoPreview(renamedFile,position,true);
        }
 else {
          getFileOperationsHelper().openFile(renamedFile);
        }
      }
 else       if (details instanceof PreviewTextFragment) {
        ((PreviewTextFragment)details).updateFile(renamedFile);
        if (PreviewTextFragment.canBePreviewed(renamedFile)) {
          startTextPreview(renamedFile);
        }
 else {
          getFileOperationsHelper().openFile(renamedFile);
        }
      }
    }
    if (getStorageManager().getFileById(renamedFile.getParentId()).equals(getCurrentDir())) {
      refreshListOfFilesFragment();
    }
  }
 else {
    Toast msg=Toast.makeText(this,ErrorMessageAdapter.getErrorCauseMessage(result,operation,getResources()),Toast.LENGTH_LONG);
    msg.show();
    if (result.isSslRecoverableException()) {
      mLastSslUntrustedServerResult=result;
      showUntrustedCertDialog(mLastSslUntrustedServerResult);
    }
  }
}
