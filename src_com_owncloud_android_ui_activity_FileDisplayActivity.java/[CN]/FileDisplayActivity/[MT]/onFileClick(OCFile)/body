{
  if (mDualPane) {
    FragmentTransaction transaction=getSupportFragmentManager().beginTransaction();
    if (file != null && FilePreviewFragment.canBePreviewed(file)) {
      if (file.isDown()) {
        transaction.replace(R.id.file_details_container,new FilePreviewFragment(file,AccountUtils.getCurrentOwnCloudAccount(this)),FileDetailFragment.FTAG);
      }
 else {
        transaction.replace(R.id.file_details_container,new FileDetailFragment(file,AccountUtils.getCurrentOwnCloudAccount(this)),FileDetailFragment.FTAG);
        mWaitingToPreview=file;
        requestForDownload();
      }
    }
 else {
      transaction.replace(R.id.file_details_container,new FileDetailFragment(file,AccountUtils.getCurrentOwnCloudAccount(this)),FileDetailFragment.FTAG);
    }
    transaction.commit();
  }
 else {
    Intent showDetailsIntent=new Intent(this,FileDetailActivity.class);
    showDetailsIntent.putExtra(FileDetailFragment.EXTRA_FILE,file);
    showDetailsIntent.putExtra(FileDetailFragment.EXTRA_ACCOUNT,AccountUtils.getCurrentOwnCloudAccount(this));
    startActivity(showDetailsIntent);
  }
}
