{
  LayoutInflater inflater=getActivity().getLayoutInflater();
  View view=inflater.inflate(R.layout.share_file_dialog,null);
  ImageView icon=(ImageView)view.findViewById(R.id.shareFileIcon);
  icon.setImageResource(MimetypeIconUtil.getFileTypeIconId(mFile.getMimetype(),mFile.getFileName()));
  if (mFile.isImage()) {
    String remoteId=String.valueOf(mFile.getRemoteId());
    Bitmap thumbnail=ThumbnailsCacheManager.getBitmapFromDiskCache(remoteId);
    if (thumbnail != null) {
      icon.setImageBitmap(thumbnail);
    }
  }
  TextView filename=(TextView)view.findViewById(R.id.shareFileName);
  filename.setText(mFile.getFileName());
  TextView size=(TextView)view.findViewById(R.id.shareFileSize);
  if (mFile.isFolder()) {
    size.setVisibility(View.GONE);
  }
 else {
    size.setText(DisplayUtils.bytesToHumanReadable(mFile.getFileLength()));
  }
  AlertDialog.Builder builder=new AlertDialog.Builder(getActivity());
  builder.setView(view).setPositiveButton(R.string.common_ok,this).setTitle(R.string.share_link_title);
  Dialog d=builder.create();
  return d;
}
