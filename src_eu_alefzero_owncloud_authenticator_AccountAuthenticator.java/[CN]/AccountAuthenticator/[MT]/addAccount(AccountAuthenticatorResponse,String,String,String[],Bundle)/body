{
  Log.i(getClass().getName(),"Adding account with type " + accountType + " and auth token "+ authTokenType);
  try {
    validateAccountType(accountType);
    validateRequiredFeatures(requiredFeatures);
  }
 catch (  AuthenticatorException e) {
    e.printStackTrace();
    return e.getFailureBundle();
  }
  final Intent intent=new Intent(mContext,AuthenticatorActivity.class);
  intent.putExtra(AccountManager.KEY_ACCOUNT_AUTHENTICATOR_RESPONSE,response);
  intent.putExtra(KEY_AUTH_TOKEN_TYPE,authTokenType);
  intent.putExtra(KEY_REQUIRED_FEATURES,requiredFeatures);
  intent.putExtra(KEY_LOGIN_OPTIONS,options);
  setIntentFlags(intent);
  Log.i(getClass().getName(),intent.toString());
  final Bundle bundle=new Bundle();
  bundle.putParcelable(AccountManager.KEY_INTENT,intent);
  return bundle;
}
