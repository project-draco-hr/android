{
  WebdavClient wc=new WebdavClient(mAccount,getSherlockActivity().getApplicationContext());
  AccountManager am=AccountManager.get(getSherlockActivity());
  String baseUrl=am.getUserData(mAccount,AccountAuthenticator.KEY_OC_BASE_URL);
  OwnCloudVersion ocv=new OwnCloudVersion(am.getUserData(mAccount,AccountAuthenticator.KEY_OC_VERSION));
  String webdav_path=AccountUtils.getWebdavPath(ocv);
  Log.d("ASD","" + baseUrl + webdav_path+ WebdavUtils.encode(mOld.getRemotePath()));
  Log.e("ASD",Uri.parse(baseUrl).getPath() == null ? "" : Uri.parse(baseUrl).getPath() + webdav_path + WebdavUtils.encode(mNew.getRemotePath()));
  LocalMoveMethod move=new LocalMoveMethod(baseUrl + webdav_path + WebdavUtils.encode(mOld.getRemotePath()),Uri.parse(baseUrl).getPath() == null ? "" : Uri.parse(baseUrl).getPath() + webdav_path + WebdavUtils.encode(mNew.getRemotePath()));
  try {
    int status=wc.executeMethod(move);
    if (move.succeeded()) {
      FileDataStorageManager fdsm=new FileDataStorageManager(mAccount,getActivity().getContentResolver());
      fdsm.removeFile(mOld);
      fdsm.saveFile(mNew);
      mFile=mNew;
      mHandler.post(new Runnable(){
        @Override public void run(){
          updateFileDetails(mFile,mAccount);
        }
      }
);
    }
    Log.e("ASD","" + move.getQueryString());
    Log.d("move","returned status " + status);
  }
 catch (  HttpException e) {
    e.printStackTrace();
  }
catch (  IOException e) {
    e.printStackTrace();
  }
}
