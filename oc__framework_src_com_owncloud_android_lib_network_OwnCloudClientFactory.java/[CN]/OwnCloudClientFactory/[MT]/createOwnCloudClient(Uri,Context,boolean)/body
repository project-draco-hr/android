{
  try {
    NetworkUtils.registerAdvancedSslContext(true,context);
  }
 catch (  GeneralSecurityException e) {
    Log.e(TAG,"Advanced SSL Context could not be loaded. Default SSL management in the system will be used for HTTPS connections",e);
  }
catch (  IOException e) {
    Log.e(TAG,"The local server truststore could not be read. Default SSL management in the system will be used for HTTPS connections",e);
  }
  OwnCloudClient client=new OwnCloudClient(NetworkUtils.getMultiThreadedConnManager());
  client.setDefaultTimeouts(DEFAULT_DATA_TIMEOUT,DEFAULT_CONNECTION_TIMEOUT);
  client.setBaseUri(uri);
  client.setFollowRedirects(followRedirects);
  return client;
}
