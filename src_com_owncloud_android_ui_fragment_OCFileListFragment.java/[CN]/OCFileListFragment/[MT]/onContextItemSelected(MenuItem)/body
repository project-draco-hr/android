{
  AdapterContextMenuInfo info=(AdapterContextMenuInfo)item.getMenuInfo();
  mTargetFile=(OCFile)mAdapter.getItem(info.position);
switch (item.getItemId()) {
case R.id.rename_file_item:
    EditNameDialog dialog=EditNameDialog.newInstance(mTargetFile.getFileName());
  dialog.setOnDismissListener(this);
dialog.show(getFragmentManager(),"nameeditdialog");
Log.d(TAG,"RENAME SELECTED, item " + info.id + " at position "+ info.position);
return true;
case R.id.remove_file_item:
int messageStringId=R.string.confirmation_remove_alert;
int posBtnStringId=R.string.confirmation_remove_remote;
int neuBtnStringId=-1;
if (mTargetFile.isDirectory()) {
messageStringId=R.string.confirmation_remove_folder_alert;
posBtnStringId=R.string.confirmation_remove_remote_and_local;
neuBtnStringId=R.string.confirmation_remove_folder_local;
}
 else if (mTargetFile.isDown()) {
posBtnStringId=R.string.confirmation_remove_remote_and_local;
neuBtnStringId=R.string.confirmation_remove_local;
}
ConfirmationDialogFragment confDialog=ConfirmationDialogFragment.newInstance(messageStringId,new String[]{mTargetFile.getFileName()},posBtnStringId,neuBtnStringId,R.string.common_cancel);
confDialog.setOnConfirmationListener(this);
confDialog.show(getFragmentManager(),FileDetailFragment.FTAG_CONFIRMATION);
Log.d(TAG,"REMOVE SELECTED, item " + info.id + " at position "+ info.position);
return true;
default :
return super.onContextItemSelected(item);
}
}
