{
  try {
    dismissDialog(DIALOG_OAUTH2_LOGIN_PROGRESS);
  }
 catch (  IllegalArgumentException e) {
  }
  String webdav_path=AccountUtils.getWebdavPath(mDiscoveredVersion,false);
  if (result.isSuccess() && webdav_path != null) {
    showDialog(DIALOG_LOGIN_PROGRESS);
    mOAuthAccessToken=((OAuth2GetAccessToken)operation).getResultTokenMap().get(OAuth2Context.KEY_ACCESS_TOKEN);
    Log.d(TAG,"Got ACCESS TOKEN: " + mOAuthAccessToken);
    mAuthCheckOperation=new ExistenceCheckOperation("",this,false);
    WebdavClient client=OwnCloudClientUtils.createOwnCloudClient(Uri.parse(mHostBaseUrl + webdav_path),this);
    client.setBearerCredentials(mOAuthAccessToken);
    mAuthCheckOperation.execute(client,this,mHandler);
  }
 else {
    if (webdav_path != null) {
      mOAuthAuthEndpointText.setError("A valid authorization could not be obtained");
    }
 else {
      mOAuthAuthEndpointText.setError(getString(R.string.auth_bad_oc_version_title));
    }
  }
}
