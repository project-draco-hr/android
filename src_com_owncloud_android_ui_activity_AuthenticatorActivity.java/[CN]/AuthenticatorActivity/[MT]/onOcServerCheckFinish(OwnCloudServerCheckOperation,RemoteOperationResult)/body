{
  mStatusText=mStatusIcon=0;
  mStatusCorrect=false;
switch (result.getCode()) {
case OK_SSL:
    mIsSslConn=true;
  mStatusIcon=android.R.drawable.ic_secure;
mStatusText=R.string.auth_secure_connection;
mStatusCorrect=true;
break;
case OK_NO_SSL:
case OK:
mIsSslConn=false;
mStatusCorrect=true;
if (mHostUrlInput.getText().toString().trim().toLowerCase().startsWith("http://")) {
mStatusText=R.string.auth_connection_established;
mStatusIcon=R.drawable.ic_ok;
}
 else {
mStatusText=R.string.auth_nossl_plain_ok_title;
mStatusIcon=android.R.drawable.ic_partial_secure;
}
break;
case SSL_RECOVERABLE_PEER_UNVERIFIED:
mStatusIcon=R.drawable.common_error;
mStatusText=R.string.auth_ssl_unverified_server_title;
mLastSslUntrustedServerResult=result;
showDialog(DIALOG_SSL_VALIDATOR);
break;
case BAD_OC_VERSION:
mStatusIcon=R.drawable.common_error;
mStatusText=R.string.auth_bad_oc_version_title;
break;
case WRONG_CONNECTION:
mStatusIcon=R.drawable.common_error;
mStatusText=R.string.auth_wrong_connection_title;
break;
case TIMEOUT:
mStatusIcon=R.drawable.common_error;
mStatusText=R.string.auth_timeout_title;
break;
case INCORRECT_ADDRESS:
mStatusIcon=R.drawable.common_error;
mStatusText=R.string.auth_incorrect_address_title;
break;
case SSL_ERROR:
mStatusIcon=R.drawable.common_error;
mStatusText=R.string.auth_ssl_general_error_title;
break;
case HOST_NOT_AVAILABLE:
mStatusIcon=R.drawable.common_error;
mStatusText=R.string.auth_unknown_host_title;
break;
case NO_NETWORK_CONNECTION:
mStatusIcon=R.drawable.no_network;
mStatusText=R.string.auth_no_net_conn_title;
break;
case INSTANCE_NOT_CONFIGURED:
mStatusIcon=R.drawable.common_error;
mStatusText=R.string.auth_not_configured_title;
break;
case FILE_NOT_FOUND:
mStatusIcon=R.drawable.common_error;
mStatusText=R.string.auth_incorrect_path_title;
break;
case UNHANDLED_HTTP_CODE:
case UNKNOWN_ERROR:
mStatusIcon=R.drawable.common_error;
mStatusText=R.string.auth_unknown_error_title;
break;
default :
Log.e(TAG,"Incorrect connection checker result type: " + result.getHttpCode());
}
updateOcServerCheckIconAndText();
if (!mStatusCorrect) mRefreshButton.setVisibility(View.VISIBLE);
 else mRefreshButton.setVisibility(View.INVISIBLE);
mDiscoveredVersion=operation.getDiscoveredVersion();
mHostBaseUrl=mHostUrlInput.getText().toString().trim();
if (!mHostBaseUrl.toLowerCase().startsWith("http://") && !mHostBaseUrl.toLowerCase().startsWith("https://")) {
if (mIsSslConn) {
mHostBaseUrl="https://" + mHostBaseUrl;
}
 else {
mHostBaseUrl="http://" + mHostBaseUrl;
}
}
if (mHostBaseUrl.endsWith("/")) mHostBaseUrl=mHostBaseUrl.substring(0,mHostBaseUrl.length() - 1);
mOkButton.setEnabled(mStatusCorrect);
}
