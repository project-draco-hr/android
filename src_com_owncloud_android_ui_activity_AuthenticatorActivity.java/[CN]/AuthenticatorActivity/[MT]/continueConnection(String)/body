{
  String url=((TextView)findViewById(R.id.host_URL)).getText().toString().trim();
  String username=((TextView)findViewById(R.id.account_username)).getText().toString();
  String password=((TextView)findViewById(R.id.account_password)).getText().toString();
  if (url.endsWith("/"))   url=url.substring(0,url.length() - 1);
  URL uri=null;
  mDiscoveredVersion=mConnChkRunnable.getDiscoveredVersion();
  String webdav_path=AccountUtils.getWebdavPath(mDiscoveredVersion,false);
  if (webdav_path == null) {
    onAuthenticationResult(false,getString(R.string.auth_bad_oc_version_title));
    return;
  }
  try {
    mBaseUrl=prefix + url;
    String url_str=prefix + url + webdav_path;
    uri=new URL(url_str);
  }
 catch (  MalformedURLException e) {
    onAuthenticationResult(false,getString(R.string.auth_incorrect_address_title));
    return;
  }
  showDialog(DIALOG_LOGIN_PROGRESS);
  mAuthRunnable=new AuthenticationRunnable(uri,username,password,this);
  mAuthRunnable.setOnAuthenticationResultListener(this,mHandler);
  mAuthThread=new Thread(mAuthRunnable);
  mAuthThread.start();
}
