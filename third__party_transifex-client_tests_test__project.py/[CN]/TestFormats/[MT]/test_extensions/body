def test_extensions(self):
    'Test returning the correct extension for a format.'
    sample_formats = {'PO': {'file-extensions': '.po, .pot', }, 'QT': {'file-extensions': '.ts', }, }
    extensions = ['.po', '.ts', '']
    with patch.object(self.p, 'do_url_request') as mock:
        mock.return_value = json.dumps(sample_formats)
        for (type_, ext) in zip(['PO', 'QT', 'NONE'], extensions):
            extension = self.p._extension_for(type_)
            self.assertEquals(extension, ext)
