{
  Object[] confirmationTarget=getArguments().getStringArray(ARG_CONF_ARGUMENTS);
  int resourceId=getArguments().getInt(ARG_CONF_RESOURCE_ID,-1);
  if (confirmationTarget == null || resourceId == -1) {
    Log.wtf(getTag(),"Calling confirmation dialog without resource or arguments");
    return null;
  }
  return new AlertDialog.Builder(getActivity()).setIcon(android.R.drawable.ic_dialog_alert).setMessage(String.format(getString(resourceId),confirmationTarget)).setPositiveButton(R.string.common_ok,new DialogInterface.OnClickListener(){
    public void onClick(    DialogInterface dialog,    int whichButton){
      mListener.onConfirmation(true,getTag());
    }
  }
).setNegativeButton(R.string.common_cancel,new DialogInterface.OnClickListener(){
    public void onClick(    DialogInterface dialog,    int whichButton){
      mListener.onConfirmation(false,getTag());
    }
  }
).create();
}
