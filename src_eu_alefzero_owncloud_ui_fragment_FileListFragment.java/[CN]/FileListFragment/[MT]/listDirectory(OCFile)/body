{
  DataStorageManager storageManager=mContainerActivity.getStorageManager();
  if (directory == null) {
    if (mFile != null) {
      directory=mFile;
    }
 else {
      directory=storageManager.getFileByPath("/");
      if (directory == null)       return;
    }
  }
  if (!directory.isDirectory()) {
    Log.w(TAG,"You see, that is not a directory -> " + directory.toString());
    directory=storageManager.getFileById(directory.getParentId());
  }
  mFile=directory;
  mFiles=storageManager.getDirectoryContent(directory);
  setListAdapter(new FileListListAdapter(directory,storageManager,getActivity()));
}
