{
  if (mFiles.size() <= position) {
    throw new IndexOutOfBoundsException("Incorrect item selected");
  }
  OCFile file=mFiles.get(position);
  if (file.getMimetype().equals("DIR")) {
    String dirname=file.getFileName();
    mDirNames.push(dirname);
    ((FileDisplayActivity)getActivity()).pushPath(dirname);
    populateFileList();
    resetFileFragment();
    return;
  }
  Intent showDetailsIntent=new Intent(getActivity(),FileDetailActivity.class);
  showDetailsIntent.putExtra(FileDetailFragment.FILE,file);
  showDetailsIntent.putExtra(FileDownloader.EXTRA_ACCOUNT,mAccount);
  if (mIsLargeDevice) {
    FileDetailFragment fileDetails=(FileDetailFragment)getFragmentManager().findFragmentByTag("FileDetails");
    if (fileDetails == null) {
      FragmentTransaction transaction=getFragmentManager().beginTransaction();
      transaction.replace(R.id.file_details_container,new FileDetailFragment(showDetailsIntent),"FileDetails");
      transaction.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE);
      transaction.commit();
    }
 else {
      fileDetails.updateFileDetails(showDetailsIntent);
    }
  }
 else {
    startActivity(showDetailsIntent);
  }
}
