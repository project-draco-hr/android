{
  if (mFiles.size() <= position) {
    throw new IndexOutOfBoundsException("Incorrect item selected");
  }
  OCFile file=mFiles.get(position);
  String id_=String.valueOf(file.getFileId());
  if (file.getMimetype().equals("DIR")) {
    String dirname=file.getFileName();
    mDirNames.push(dirname);
    ((FileDisplayActivity)getActivity()).pushPath(dirname);
    populateFileList();
    return;
  }
  Intent i=new Intent(getActivity(),FileDetailActivity.class);
  i.putExtra("FILE_NAME",file.getFileName());
  i.putExtra("FULL_PATH",file.getPath());
  i.putExtra("FILE_ID",id_);
  i.putExtra("ACCOUNT",mAccount);
  FileDetailFragment fd=(FileDetailFragment)getFragmentManager().findFragmentById(R.id.fileDetail);
  if (fd != null) {
    fd.setStuff(i);
  }
 else {
    startActivity(i);
  }
}
