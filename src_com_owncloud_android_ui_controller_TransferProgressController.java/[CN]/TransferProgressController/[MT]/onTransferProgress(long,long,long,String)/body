{
  if (mProgressBar != null) {
    mProgressBar.setIndeterminate(false);
    int percent=(int)(100.0 * ((double)totalTransferredSoFar) / ((double)totalToTransfer));
    if (percent != mLastPercent) {
      mProgressBar.setProgress(percent);
      mProgressBar.postInvalidate();
    }
    mLastPercent=percent;
  }
}
