{
  try {
    dismissDialog(DIALOG_LOGIN_PROGRESS);
  }
 catch (  IllegalArgumentException e) {
  }
  if (result.isSuccess()) {
    if (mTryEmptyAuthorization) {
      mOkButton.setEnabled(false);
      mTryEmptyAuthorization=false;
      mServerIsValid=false;
      updateServerStatusIconNoRegularAuth();
      showServerStatus();
    }
 else {
      Log_OC.d(TAG,"Successful access - time to save the account");
      boolean success=false;
      if (mAction == ACTION_CREATE) {
        success=createAccount();
      }
 else {
        updateToken();
        success=true;
      }
      if (success) {
        finish();
      }
    }
  }
 else {
    if (mTryEmptyAuthorization) {
      mTryEmptyAuthorization=false;
      mOkButton.setEnabled(true);
    }
 else     if (result.isServerFail() || result.isException()) {
      mServerIsChecked=true;
      mServerIsValid=false;
      mIsSslConn=false;
      mOcServerChkOperation=null;
      mDiscoveredVersion=null;
      mHostBaseUrl=normalizeUrl(mHostUrlInput.getText().toString());
      updateServerStatusIconAndText(result);
      showServerStatus();
      mAuthStatusIcon=0;
      mAuthStatusText=0;
      showAuthStatus();
      showRefreshButton();
      mOkButton.setEnabled(false);
      if (result.getCode() == ResultCode.SSL_RECOVERABLE_PEER_UNVERIFIED) {
        showUntrustedCertDialog(result);
      }
    }
 else {
      updateAuthStatusIconAndText(result);
      showAuthStatus();
      Log_OC.d(TAG,"Access failed: " + result.getLogMessage());
    }
  }
}
