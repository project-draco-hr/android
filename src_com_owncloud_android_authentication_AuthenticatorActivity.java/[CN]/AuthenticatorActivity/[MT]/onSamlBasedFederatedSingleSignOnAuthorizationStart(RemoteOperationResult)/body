{
  mWaitingForOpId=Long.MAX_VALUE;
  dismissDialog(WAIT_DIALOG_TAG);
  if (result.isIdPRedirection()) {
    String url=result.getRedirectedLocation();
    String targetUrl=mServerInfo.mBaseUrl + AccountUtils.getWebdavPath(mServerInfo.mVersion,mAuthTokenType);
    SamlWebViewDialog dialog=SamlWebViewDialog.newInstance(url,targetUrl);
    dialog.show(getSupportFragmentManager(),SAML_DIALOG_TAG);
    mAuthStatusIcon=0;
    mAuthStatusText=0;
  }
 else {
    mAuthStatusIcon=R.drawable.common_error;
    mAuthStatusText=R.string.auth_unsupported_auth_method;
  }
  showAuthStatus();
}
