{
  String uri=trimUrlWebdav(mHostUrlInput.getText().toString().trim());
  if (!mHostUrlInputEnabled) {
    uri=getString(R.string.server_url);
  }
  mServerIsValid=false;
  mServerIsChecked=false;
  mIsSharedSupported=false;
  mOkButton.setEnabled(false);
  mDiscoveredVersion=null;
  hideRefreshButton();
  if (uri.length() != 0) {
    mServerStatusText=R.string.auth_testing_connection;
    mServerStatusIcon=R.drawable.progress_small;
    showServerStatus();
    mOcServerChkOperation=new GetRemoteStatusOperation(uri,this);
    OwnCloudClient client=OwnCloudClientFactory.createOwnCloudClient(Uri.parse(uri),this,true);
    mOperationThread=mOcServerChkOperation.execute(client,this,mHandler);
  }
 else {
    mServerStatusText=0;
    mServerStatusIcon=0;
    showServerStatus();
  }
}
