{
  String message=null;
  if (operation instanceof UploadFileOperation) {
    if (result.isSuccess()) {
      message=String.format(res.getString(R.string.uploader_upload_succeeded_content_single),((UploadFileOperation)operation).getFileName());
    }
 else {
      if (result.getCode() == ResultCode.LOCAL_STORAGE_FULL || result.getCode() == ResultCode.LOCAL_STORAGE_NOT_COPIED) {
        message=String.format(res.getString(R.string.error__upload__local_file_not_copied),((UploadFileOperation)operation).getFileName());
      }
 else       if (result.getCode() == ResultCode.QUOTA_EXCEEDED) {
        message=res.getString(R.string.failed_upload_quota_exceeded_text);
      }
 else {
        message=String.format(res.getString(R.string.uploader_upload_failed_content_single),((UploadFileOperation)operation).getFileName());
      }
    }
  }
 else   if (operation instanceof DownloadFileOperation) {
    if (result.isSuccess()) {
      message=String.format(res.getString(R.string.downloader_download_succeeded_content),new File(((DownloadFileOperation)operation).getSavePath()).getName());
    }
 else {
      message=String.format(res.getString(R.string.downloader_download_failed_content),new File(((DownloadFileOperation)operation).getSavePath()).getName());
    }
  }
  return message;
}
