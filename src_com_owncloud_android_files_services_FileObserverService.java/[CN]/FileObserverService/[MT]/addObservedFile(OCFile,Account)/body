{
  Log_OC.v(TAG,"Adding a file to be watched");
  if (file == null) {
    Log_OC.e(TAG,"Trying to add a NULL file to observer");
    return;
  }
  if (account == null) {
    Log_OC.e(TAG,"Trying to add a file with a NULL account to observer");
    return;
  }
  String localPath=file.getStoragePath();
  if (localPath == null || localPath.length() <= 0) {
    localPath=FileStorageUtils.getDefaultSavePathFor(account.name,file);
  }
  OwnCloudFileObserver observer=mObserversMap.get(localPath);
  if (observer == null) {
    observer=new OwnCloudFileObserver(localPath,account,getApplicationContext());
    mObserversMap.put(localPath,observer);
    Log_OC.d(TAG,"Observer added for path " + localPath);
    if (file.isDown()) {
      observer.startWatching();
      Log_OC.d(TAG,"Started watching " + localPath);
    }
  }
  String parentPath=(new File(localPath)).getParent();
  OwnCloudFileObserver observerParent=mObserverParentsMap.get(parentPath);
  if (observerParent == null) {
    observerParent=new OwnCloudFileObserver(parentPath,account,getApplicationContext());
    mObserverParentsMap.put(parentPath,observerParent);
    Log_OC.d(TAG,"Observer added for parent folder " + localPath);
    if (file.isDown()) {
      observerParent.startWatching();
      Log_OC.d(TAG,"Started watching parent folder " + parentPath);
    }
  }
}
