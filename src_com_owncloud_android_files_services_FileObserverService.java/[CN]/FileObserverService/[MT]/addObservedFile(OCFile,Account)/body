{
  if (file == null) {
    Log.e(TAG,"Trying to add a NULL file to observer");
    return;
  }
  String localPath=file.getStoragePath();
  if (localPath == null || localPath.length() <= 0) {
    localPath=FileStorageUtils.getDefaultSavePathFor(account.name,file);
  }
  OwnCloudFileObserver observer=mObserversMap.get(localPath);
  if (observer == null) {
    observer=new OwnCloudFileObserver(localPath,OwnCloudFileObserver.CHANGES_ONLY);
    observer.setAccount(account);
    FileDataStorageManager storage=new FileDataStorageManager(account,getContentResolver());
    observer.setStorageManager(storage);
    observer.setOCFile(file);
    observer.addObserverStatusListener(this);
    observer.setContext(getApplicationContext());
    mObserversMap.put(localPath,observer);
    Log.d(TAG,"Observer added for path " + localPath);
    if (file.isDown()) {
      observer.startWatching();
      Log.d(TAG,"Started watching " + localPath);
    }
  }
}
