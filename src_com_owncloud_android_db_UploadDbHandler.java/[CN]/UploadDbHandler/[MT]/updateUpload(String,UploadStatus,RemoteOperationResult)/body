{
  Cursor c=getDB().query(TABLE_UPLOAD,null,"path=?",new String[]{filepath},null,null,null);
  if (c.getCount() != 1) {
    Log_OC.e(TAG,c.getCount() + " items for path=" + filepath+ " available in UploadDb. Expected 1.");
    return 0;
  }
  if (c.moveToFirst()) {
    String uploadObjectString=c.getString(c.getColumnIndex("uploadObject"));
    UploadDbObject uploadObject=UploadDbObject.fromString(uploadObjectString);
    uploadObject.setLastResult(result);
    uploadObject.setUploadStatus(status);
    uploadObjectString=uploadObject.toString();
    ContentValues cv=new ContentValues();
    cv.put("uploadStatus",status.value);
    cv.put("uploadObject",uploadObjectString);
    int r=getDB().update(TABLE_UPLOAD,cv,"path=?",new String[]{filepath});
    if (r == 1) {
      notifyObserversNow();
    }
 else {
      Log_OC.e(TAG,"Failed to update upload db.");
    }
    return r;
  }
  return 0;
}
