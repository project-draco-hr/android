{
  Log_OC.d(TAG,"UploadListAdapter");
  mActivity=context;
  mDb=UploadDbHandler.getInstance(mActivity);
  mUploadGroups=new UploadGroup[3];
  mUploadGroups[0]=new UploadGroup("Current Uploads"){
    @Override public void refresh(){
      items=mDb.getCurrentAndPendingUploads();
      Arrays.sort(items,comparator);
    }
    @Override public int getGroupIcon(){
      return R.drawable.upload_in_progress;
    }
  }
;
  mUploadGroups[1]=new UploadGroup("Failed Uploads"){
    @Override public void refresh(){
      items=mDb.getFailedUploads();
      Arrays.sort(items,comparator);
    }
    @Override public int getGroupIcon(){
      return R.drawable.upload_failed;
    }
  }
;
  mUploadGroups[2]=new UploadGroup("Finished Uploads"){
    @Override public void refresh(){
      items=mDb.getFinishedUploads();
      Arrays.sort(items,comparator);
    }
    @Override public int getGroupIcon(){
      return R.drawable.upload_finished;
    }
  }
;
  loadUploadItemsFromDb();
}
