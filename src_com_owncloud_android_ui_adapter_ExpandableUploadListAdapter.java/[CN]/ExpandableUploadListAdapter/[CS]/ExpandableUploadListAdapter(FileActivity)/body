{
  Log_OC.d(TAG,"ExpandableUploadListAdapter");
  mParentActivity=parentActivity;
  mUploadsStorageManager=new UploadsStorageManager(mParentActivity.getContentResolver());
  mUploadGroups=new UploadGroup[3];
  mUploadGroups[0]=new UploadGroup("Current Uploads"){
    @Override public void refresh(){
      items=mUploadsStorageManager.getCurrentAndPendingUploads();
      Arrays.sort(items,comparator);
    }
    @Override public int getGroupIcon(){
      return R.drawable.upload_in_progress;
    }
  }
;
  mUploadGroups[1]=new UploadGroup("Failed Uploads"){
    @Override public void refresh(){
      items=mUploadsStorageManager.getFailedUploads();
      Arrays.sort(items,comparator);
    }
    @Override public int getGroupIcon(){
      return R.drawable.upload_failed;
    }
  }
;
  mUploadGroups[2]=new UploadGroup("Finished Uploads"){
    @Override public void refresh(){
      items=mUploadsStorageManager.getFinishedUploads();
      Arrays.sort(items,comparator);
    }
    @Override public int getGroupIcon(){
      return R.drawable.upload_finished;
    }
  }
;
  loadUploadItemsFromDb();
}
