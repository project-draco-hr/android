{
  boolean ret=false;
  boolean caughtException=false;
  GetMethod get=new GetMethod(mUri.toString() + WebdavUtils.encodePath(remoteFilepath));
  int status=-1;
  try {
    status=executeMethod(get);
    if (status == HttpStatus.SC_OK) {
      targetFile.createNewFile();
      BufferedInputStream bis=new BufferedInputStream(get.getResponseBodyAsStream());
      FileOutputStream fos=new FileOutputStream(targetFile);
      byte[] bytes=new byte[4096];
      int readResult;
      while ((readResult=bis.read(bytes)) != -1) {
        if (mDataTransferListener != null)         mDataTransferListener.transferProgress(readResult);
        fos.write(bytes,0,readResult);
      }
      ret=true;
    }
  }
 catch (  HttpException e) {
    Log.e(TAG,"HTTP exception downloading " + remoteFilepath,e);
    caughtException=true;
  }
catch (  IOException e) {
    Log.e(TAG,"I/O exception downloading " + remoteFilepath,e);
    caughtException=true;
  }
catch (  Exception e) {
    Log.e(TAG,"Unexpected exception downloading " + remoteFilepath,e);
    caughtException=true;
  }
 finally {
    if (!ret) {
      if (!caughtException) {
        Log.e(TAG,"Download of " + remoteFilepath + " to "+ targetFile+ " failed with HTTP status "+ status);
      }
      if (targetFile.exists()) {
        targetFile.delete();
      }
    }
  }
  return ret;
}
