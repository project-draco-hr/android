{
  mSchemeRegistry.register(new Scheme("http",PlainSocketFactory.getSocketFactory(),80));
  mSchemeRegistry.register(new Scheme("https",SSLSocketFactory.getSocketFactory(),443));
  HttpParams params=new BasicHttpParams();
  params.setParameter(ConnManagerPNames.MAX_TOTAL_CONNECTIONS,30);
  params.setParameter(ConnManagerPNames.MAX_CONNECTIONS_PER_ROUTE,new ConnPerRouteBean(30));
  params.setParameter(HttpProtocolParams.USE_EXPECT_CONTINUE,false);
  HttpProtocolParams.setVersion(params,HttpVersion.HTTP_1_1);
  mHttpContext=new BasicHttpContext();
  ClientConnectionManager cm=new ThreadSafeClientConnManager(params,mSchemeRegistry);
  int port=mUri.getPort() == -1 ? mUri.getScheme().equals("https") ? 443 : 80 : mUri.getPort();
  mTargetHost=new HttpHost(mUri.getHost(),port,mUri.getScheme());
  mHttpClient=new DefaultHttpClient(cm,params);
}
