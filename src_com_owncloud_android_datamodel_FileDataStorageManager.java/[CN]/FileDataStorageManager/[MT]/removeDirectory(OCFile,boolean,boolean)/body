{
  if (dir != null && dir.isDirectory() && dir.getFileId() != -1) {
    Vector<OCFile> children=getDirectoryContent(dir);
    if (children.size() > 0) {
      OCFile child=null;
      for (int i=0; i < children.size(); i++) {
        child=children.get(i);
        if (child.isDirectory()) {
          removeDirectory(child,removeDBData,removeLocalContent);
        }
 else {
          if (removeDBData) {
            removeFile(child,removeLocalContent);
          }
 else           if (removeLocalContent) {
            if (child.isDown()) {
              new File(child.getStoragePath()).delete();
            }
          }
        }
      }
      if (removeDBData) {
        removeFile(dir,true);
      }
    }
  }
}
