{
  saveShares(shares);
  ArrayList<OCFile> sharedFiles=new ArrayList<OCFile>();
  for (  OCShare share : shares) {
    String path=share.getPath();
    if (share.isFolder()) {
      path=path + FileUtils.PATH_SEPARATOR;
    }
    OCFile file=getFileByPath(path);
    if (file != null) {
      if (share.getShareType().equals(ShareType.PUBLIC_LINK)) {
        file.setShareByLink(true);
        sharedFiles.add(file);
      }
    }
  }
  updateSharedFiles(sharedFiles);
}
