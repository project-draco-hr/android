{
  boolean isFederated=ShareType.FEDERATED.equals(shareType);
  if (getFile().isSharedWithMe()) {
    return OCShare.READ_PERMISSION_FLAG;
  }
 else   if (getFile().isFolder()) {
    return (isFederated) ? OCShare.FEDERATED_PERMISSIONS_FOR_FOLDER : OCShare.MAXIMUM_PERMISSIONS_FOR_FOLDER;
  }
 else {
    return (isFederated) ? OCShare.FEDERATED_PERMISSIONS_FOR_FILE : OCShare.MAXIMUM_PERMISSIONS_FOR_FILE;
  }
}
