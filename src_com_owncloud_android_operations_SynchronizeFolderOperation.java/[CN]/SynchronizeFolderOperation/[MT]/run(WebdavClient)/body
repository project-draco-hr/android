{
  RemoteOperationResult result=null;
  PropFindMethod query=null;
  try {
    Log.d(TAG,"Synchronizing " + mAccount.name + ", fetching files in "+ mRemotePath);
    query=new PropFindMethod(client.getBaseUri() + WebdavUtils.encodePath(mRemotePath));
    int status=client.executeMethod(query);
    if (isMultiStatus(status)) {
      MultiStatus resp=query.getResponseBodyAsMultiStatus();
      if (mParentId == DataStorageManager.ROOT_PARENT_ID) {
        WebdavEntry we=new WebdavEntry(resp.getResponses()[0],client.getBaseUri().getPath());
        OCFile parent=fillOCFile(we);
        parent.setParentId(mParentId);
        mStorageManager.saveFile(parent);
        mParentId=parent.getFileId();
      }
      List<OCFile> updatedFiles=new Vector<OCFile>(resp.getResponses().length - 1);
      for (int i=1; i < resp.getResponses().length; ++i) {
        WebdavEntry we=new WebdavEntry(resp.getResponses()[i],client.getBaseUri().getPath());
        OCFile file=fillOCFile(we);
        file.setParentId(mParentId);
        OCFile oldFile=mStorageManager.getFileByPath(file.getRemotePath());
        if (oldFile != null) {
          if (oldFile.keepInSync() && file.getModificationTimestamp() > oldFile.getModificationTimestamp()) {
            disableObservance(file);
            requestContentDownload(file);
          }
          file.setKeepInSync(oldFile.keepInSync());
        }
        updatedFiles.add(file);
      }
      mStorageManager.saveFiles(updatedFiles);
      mChildren=mStorageManager.getDirectoryContent(mStorageManager.getFileById(mParentId));
      OCFile file;
      String currentSavePath=FileStorageUtils.getSavePath(mAccount.name);
      for (int i=0; i < mChildren.size(); ) {
        file=mChildren.get(i);
        if (file.getLastSyncDateForProperties() != mCurrentSyncTime) {
          Log.d(TAG,"removing file: " + file);
          mStorageManager.removeFile(file,(file.isDown() && file.getStoragePath().startsWith(currentSavePath)));
          mChildren.remove(i);
        }
 else {
          i++;
        }
      }
    }
 else {
      client.exhaustResponse(query.getResponseBodyAsStream());
    }
    result=new RemoteOperationResult(isMultiStatus(status),status);
    Log.i(TAG,"Synchronizing " + mAccount.name + ", folder "+ mRemotePath+ ": "+ result.getLogMessage());
  }
 catch (  Exception e) {
    result=new RemoteOperationResult(e);
    Log.e(TAG,"Synchronizing " + mAccount.name + ", folder "+ mRemotePath+ ": "+ result.getLogMessage(),result.getException());
  }
 finally {
    if (query != null)     query.releaseConnection();
  }
  return result;
}
