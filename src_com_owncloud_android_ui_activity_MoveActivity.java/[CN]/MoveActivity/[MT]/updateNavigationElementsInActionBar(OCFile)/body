{
  ActionBar actionBar=getSupportActionBar();
  if (chosenFile == null) {
    OCFile currentDir=getCurrentDir();
    boolean noRoot=(currentDir != null && currentDir.getParentId() != 0);
    actionBar.setDisplayHomeAsUpEnabled(noRoot);
    actionBar.setDisplayShowTitleEnabled(!noRoot);
    if (!noRoot) {
      actionBar.setTitle(getString(R.string.default_display_name_for_root_folder));
    }
    actionBar.setNavigationMode(!noRoot ? ActionBar.NAVIGATION_MODE_STANDARD : ActionBar.NAVIGATION_MODE_LIST);
    actionBar.setListNavigationCallbacks(mDirectories,this);
  }
 else {
    actionBar.setDisplayHomeAsUpEnabled(true);
    actionBar.setDisplayShowTitleEnabled(true);
    actionBar.setTitle(chosenFile.getFileName());
    actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_STANDARD);
  }
}
