{
  Account account=mFileActivity.getAccount();
  if (!file.isFolder()) {
    FileDownloaderBinder downloaderBinder=mFileActivity.getFileDownloaderBinder();
    FileUploaderBinder uploaderBinder=mFileActivity.getFileUploaderBinder();
    if (downloaderBinder != null && file.isDownloading()) {
      if (file.keepInSync()) {
        OCFile parent=mFileActivity.getStorageManager().getFileById(file.getParentId());
        parent.setEtag("");
        mFileActivity.getStorageManager().saveFile(parent);
      }
      downloaderBinder.cancel(account,file);
    }
 else     if (uploaderBinder != null && file.isUploading()) {
      uploaderBinder.cancel(account,file);
    }
  }
 else {
    Intent intent=new Intent(mFileActivity,OperationsService.class);
    intent.setAction(OperationsService.ACTION_CANCEL_SYNC_FOLDER);
    intent.putExtra(OperationsService.EXTRA_ACCOUNT,account);
    intent.putExtra(OperationsService.EXTRA_FILE,file);
    mFileActivity.startService(intent);
  }
}
