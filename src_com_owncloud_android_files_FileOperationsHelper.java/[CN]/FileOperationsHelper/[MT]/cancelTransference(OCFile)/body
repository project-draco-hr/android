{
  Account account=mFileActivity.getAccount();
  if (file.isFolder()) {
    Intent intent=new Intent(mFileActivity,OperationsService.class);
    intent.setAction(OperationsService.ACTION_CANCEL_SYNC_FOLDER);
    intent.putExtra(OperationsService.EXTRA_ACCOUNT,account);
    intent.putExtra(OperationsService.EXTRA_FILE,file);
    mFileActivity.startService(intent);
  }
  FileDownloaderBinder downloaderBinder=mFileActivity.getFileDownloaderBinder();
  FileUploaderBinder uploaderBinder=mFileActivity.getFileUploaderBinder();
  if (downloaderBinder != null && downloaderBinder.isDownloading(account,file)) {
    downloaderBinder.cancel(account,file);
    if (file.keepInSync()) {
      OCFile parent=mFileActivity.getStorageManager().getFileById(file.getParentId());
      parent.setEtag("");
      mFileActivity.getStorageManager().saveFile(parent);
    }
  }
 else   if (uploaderBinder != null && uploaderBinder.isUploading(account,file)) {
    uploaderBinder.cancel(account,file);
  }
}
