{
  boolean inProgress=intent.getBooleanExtra(FileSyncService.IN_PROGRESS,false);
  String account_name=intent.getStringExtra(FileSyncService.ACCOUNT_NAME);
  Log.d("FileDisplay","sync of account " + account_name + " is in_progress: "+ inProgress);
  setSupportProgressBarIndeterminateVisibility(inProgress);
  long OCDirId=intent.getLongExtra(FileSyncService.SYNC_FOLDER,-1);
  if (OCDirId >= 0) {
    OCFile syncDir=mStorageManager.getFileById(OCDirId);
    if (syncDir != null && ((mCurrentDir == null && syncDir.getFileName().equals("/")) || syncDir.equals(mCurrentDir))) {
      FileListFragment fileListFragment=(FileListFragment)getSupportFragmentManager().findFragmentById(R.id.fileList);
      if (fileListFragment != null) {
        fileListFragment.listDirectory();
      }
    }
  }
  if (!inProgress) {
    FileListFragment fileListFragment=(FileListFragment)getSupportFragmentManager().findFragmentById(R.id.fileList);
    if (fileListFragment != null)     fileListFragment.listDirectory();
  }
}
