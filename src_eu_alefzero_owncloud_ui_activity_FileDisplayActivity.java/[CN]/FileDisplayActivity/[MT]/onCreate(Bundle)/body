{
  super.onCreate(savedInstanceState);
  if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.ICE_CREAM_SANDWICH) {
    requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);
    setProgressBarIndeterminateVisibility(false);
  }
  Thread.setDefaultUncaughtExceptionHandler(new CrashHandler(getApplicationContext()));
  if (savedInstanceState != null) {
    mCurrentDir=(OCFile)savedInstanceState.getParcelable(KEY_CURRENT_DIR);
  }
  if (findViewById(R.id.file_list_view) == null)   mLayoutView=getLayoutInflater().inflate(R.layout.files,null);
  if (!accountsAreSetup()) {
    setContentView(R.layout.no_account_available);
    setProgressBarIndeterminateVisibility(false);
    getSupportActionBar().setNavigationMode(ActionBar.DISPLAY_SHOW_TITLE);
    findViewById(R.id.setup_account).setOnClickListener(this);
  }
 else   if (findViewById(R.id.file_list_view) == null) {
    setContentView(mLayoutView);
  }
}
