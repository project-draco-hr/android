{
  super.onCreate(savedInstanceState);
  mDirectories=new ArrayAdapter<String>(this,android.R.layout.simple_spinner_dropdown_item);
  mDirectories.add("/");
  setContentView(R.layout.files);
  ActionBar action_bar=getSupportActionBar();
  action_bar.setNavigationMode(android.support.v4.app.ActionBar.NAVIGATION_MODE_LIST);
  action_bar.setDisplayShowTitleEnabled(false);
  action_bar.setListNavigationCallbacks(mDirectories,this);
  FragmentTransaction ft=getSupportFragmentManager().beginTransaction();
  ft.add(R.id.file_list_container,new FileList());
  if (getResources().getConfiguration().orientation == Configuration.ORIENTATION_LANDSCAPE) {
    ft.add(R.id.fileDetail,new FileDetail());
  }
  ft.commit();
}
