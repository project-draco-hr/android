{
  mLastPercent=0;
  mNotification=new Notification(R.drawable.icon,getString(R.string.downloader_download_in_progress_ticker),System.currentTimeMillis());
  mNotification.flags|=Notification.FLAG_ONGOING_EVENT;
  mNotification.contentView=new RemoteViews(getApplicationContext().getPackageName(),R.layout.progressbar_layout);
  mNotification.contentView.setProgressBar(R.id.status_progress,100,0,download.getSize() == -1);
  mNotification.contentView.setTextViewText(R.id.status_text,String.format(getString(R.string.downloader_download_in_progress_content),0,new File(download.getSavePath()).getName()));
  mNotification.contentView.setImageViewResource(R.id.status_icon,R.drawable.icon);
  Intent showDetailsIntent=new Intent(this,FileDetailActivity.class);
  showDetailsIntent.putExtra(FileDetailFragment.EXTRA_FILE,download.getFile());
  showDetailsIntent.putExtra(FileDetailFragment.EXTRA_ACCOUNT,download.getAccount());
  showDetailsIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
  mNotification.contentIntent=PendingIntent.getActivity(getApplicationContext(),0,showDetailsIntent,PendingIntent.FLAG_UPDATE_CURRENT);
  mNotificationMngr.notify(R.string.downloader_download_in_progress_ticker,mNotification);
}
