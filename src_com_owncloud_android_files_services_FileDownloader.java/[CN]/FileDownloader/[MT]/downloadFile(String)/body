{
  Log_OC.v("NOW " + TAG + ", thread "+ Thread.currentThread().getName(),"Getting download of " + downloadKey);
  mCurrentDownload=mPendingDownloads.get(downloadKey);
  if (mCurrentDownload != null) {
    notifyDownloadStart(mCurrentDownload);
    RemoteOperationResult downloadResult=null;
    try {
      if (mDownloadClient == null || !mCurrentAccount.equals(mCurrentDownload.getAccount())) {
        mCurrentAccount=mCurrentDownload.getAccount();
        mStorageManager=new FileDataStorageManager(mCurrentAccount,getContentResolver());
        OwnCloudAccount ocAccount=new OwnCloudAccount(mCurrentAccount,this);
        mDownloadClient=OwnCloudClientManagerFactory.getDefaultSingleton().getClientFor(ocAccount,this);
      }
      Log_OC.v("NOW " + TAG + ", thread "+ Thread.currentThread().getName(),"Executing download of " + mCurrentDownload.getRemotePath());
      downloadResult=mCurrentDownload.execute(mDownloadClient);
      if (downloadResult.isSuccess()) {
        saveDownloadedFile();
      }
    }
 catch (    AccountsException e) {
      Log_OC.e(TAG,"Error while trying to get authorization for " + mCurrentAccount.name,e);
      downloadResult=new RemoteOperationResult(e);
    }
catch (    IOException e) {
      Log_OC.e(TAG,"Error while trying to get authorization for " + mCurrentAccount.name,e);
      downloadResult=new RemoteOperationResult(e);
    }
 finally {
      Log_OC.v("NOW " + TAG + ", thread "+ Thread.currentThread().getName(),"Removing payload " + mCurrentDownload.getRemotePath());
      Pair<DownloadFileOperation,String> removeResult=mPendingDownloads.removePayload(mCurrentAccount,mCurrentDownload.getRemotePath());
      notifyDownloadResult(mCurrentDownload,downloadResult);
      sendBroadcastDownloadFinished(mCurrentDownload,downloadResult,removeResult.second);
    }
  }
}
