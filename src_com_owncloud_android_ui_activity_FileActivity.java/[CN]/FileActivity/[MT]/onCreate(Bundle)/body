{
  super.onCreate(savedInstanceState);
  if (savedInstanceState != null) {
    mFile=savedInstanceState.getParcelable(FileActivity.EXTRA_FILE);
    mAccount=savedInstanceState.getParcelable(FileActivity.EXTRA_ACCOUNT);
  }
 else {
    mAccount=getIntent().getParcelableExtra(FileActivity.EXTRA_ACCOUNT);
    mFile=getIntent().getParcelableExtra(FileActivity.EXTRA_FILE);
  }
  Account oldAccount=mAccount;
  grantValidAccount();
  if (mAccount != null) {
    mAccountWasSet=true;
    mAccountWasRestored=(savedInstanceState != null && mAccount.equals(oldAccount));
  }
 else {
    mAccountWasSet=false;
    mAccountWasRestored=false;
  }
}
