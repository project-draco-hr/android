{
  if (!isResumed()) {
    return;
  }
  if (isChecked) {
    ExpirationDatePickerDialogFragment dialog=ExpirationDatePickerDialogFragment.newInstance(mFile);
    dialog.show(getActivity().getSupportFragmentManager(),ExpirationDatePickerDialogFragment.DATE_PICKER_DIALOG);
  }
 else {
    ((FileActivity)getActivity()).getFileOperationsHelper().setExpirationDateToShareViaLink(mFile,-1,-1,-1);
  }
  switchView.setOnCheckedChangeListener(null);
  switchView.toggle();
  switchView.setOnCheckedChangeListener(mOnExpirationDateInteractionListener);
}
