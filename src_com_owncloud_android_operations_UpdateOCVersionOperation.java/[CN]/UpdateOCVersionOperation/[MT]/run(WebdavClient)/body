{
  AccountManager accountMngr=AccountManager.get(mContext);
  String statUrl=accountMngr.getUserData(mAccount,AccountAuthenticator.KEY_OC_BASE_URL);
  statUrl+=AccountUtils.STATUS_PATH;
  RemoteOperationResult result=null;
  GetMethod get=null;
  try {
    get=new GetMethod(statUrl);
    int status=client.executeMethod(get);
    if (status != HttpStatus.SC_OK) {
      client.exhaustResponse(get.getResponseBodyAsStream());
      result=new RemoteOperationResult(false,status);
    }
 else {
      String response=get.getResponseBodyAsString();
      if (response != null) {
        JSONObject json=new JSONObject(response);
        if (json != null && json.getString("version") != null) {
          OwnCloudVersion ocver=new OwnCloudVersion(json.getString("version"));
          if (ocver.isVersionValid()) {
            accountMngr.setUserData(mAccount,AccountAuthenticator.KEY_OC_VERSION,ocver.toString());
            Log.d(TAG,"Got new OC version " + ocver.toString());
            result=new RemoteOperationResult(ResultCode.OK);
          }
 else {
            Log.w(TAG,"Invalid version number received from server: " + json.getString("version"));
            result=new RemoteOperationResult(RemoteOperationResult.ResultCode.BAD_OC_VERSION);
          }
        }
      }
      if (result == null) {
        result=new RemoteOperationResult(RemoteOperationResult.ResultCode.INSTANCE_NOT_CONFIGURED);
      }
    }
    Log.i(TAG,"Check for update of ownCloud server version at " + client.getBaseUri() + ": "+ result.getLogMessage());
  }
 catch (  JSONException e) {
    result=new RemoteOperationResult(RemoteOperationResult.ResultCode.INSTANCE_NOT_CONFIGURED);
    Log.e(TAG,"Check for update of ownCloud server version at " + client.getBaseUri() + ": "+ result.getLogMessage(),e);
  }
catch (  Exception e) {
    result=new RemoteOperationResult(e);
    Log.e(TAG,"Check for update of ownCloud server version at " + client.getBaseUri() + ": "+ result.getLogMessage(),e);
  }
 finally {
    if (get != null)     get.releaseConnection();
  }
  return result;
}
