{
  WebdavClient wdc=new WebdavClient(mAccount,getApplicationContext());
  String username=mAccount.name.substring(0,mAccount.name.lastIndexOf('@'));
  String password=mAm.getPassword(mAccount);
  wdc.setCredentials(username,password);
  wdc.allowSelfsignedCertificates();
  boolean created=wdc.createDirectory(mTargetPath);
  if (created) {
    mHandler.post(new Runnable(){
      @Override public void run(){
        dismissDialog(DIALOG_SHORT_WAIT);
        OCFile newDir=new OCFile(mTargetPath);
        newDir.setMimetype("DIR");
        newDir.setParentId(mCurrentDir.getFileId());
        mStorageManager.saveFile(newDir);
        mFileList.listDirectory(mCurrentDir);
      }
    }
);
  }
 else {
    mHandler.post(new Runnable(){
      @Override public void run(){
        dismissDialog(DIALOG_SHORT_WAIT);
        try {
          Toast msg=Toast.makeText(OldFileDisplayActivity.this,R.string.create_dir_fail_msg,Toast.LENGTH_LONG);
          msg.show();
        }
 catch (        NotFoundException e) {
          Log.e(TAG,"Error while trying to show fail message ",e);
        }
      }
    }
);
  }
}
