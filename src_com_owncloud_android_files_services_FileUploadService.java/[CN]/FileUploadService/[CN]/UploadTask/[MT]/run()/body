{
  Log_OC.d(TAG,"mPendingUploads size:" + mPendingUploads.size() + " - before uploading.");
switch (canUploadFileNow(uploadDbObject)) {
case NOW:
    Log_OC.d(TAG,"Calling uploadFile for " + uploadDbObject.getRemotePath());
  RemoteOperationResult uploadResult=uploadFile(uploadDbObject);
updateDatabaseUploadResult(uploadResult,mCurrentUpload);
notifyUploadResult(uploadResult,mCurrentUpload);
sendFinalBroadcast(uploadResult,mCurrentUpload);
Log_OC.d(TAG,"mCurrentUpload = null");
mCurrentUpload=null;
break;
case LATER:
break;
case FILE_GONE:
mUploadsStorageManager.updateUploadStatus(uploadDbObject.getLocalPath(),UploadStatus.UPLOAD_FAILED_GIVE_UP,new RemoteOperationResult(ResultCode.FILE_NOT_FOUND));
if (mPendingUploads.remove(uploadDbObject.getRemotePath()) == null) {
Log_OC.w(TAG,"Could remove " + uploadDbObject.getRemotePath() + " from mPendingUploads because it does not exist.");
}
break;
case ERROR:
Log_OC.e(TAG,"canUploadFileNow() returned ERROR. Fix that!");
break;
}
Log_OC.d(TAG,"mPendingUploads size:" + mPendingUploads.size() + " - after uploading.");
}
