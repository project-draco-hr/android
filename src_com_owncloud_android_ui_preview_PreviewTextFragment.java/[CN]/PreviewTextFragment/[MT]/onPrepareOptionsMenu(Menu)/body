{
  super.onPrepareOptionsMenu(menu);
  if (mContainerActivity.getStorageManager() != null) {
    FileMenuFilter mf=new FileMenuFilter(getFile(),mContainerActivity.getStorageManager().getAccount(),mContainerActivity,getSherlockActivity());
    mf.filter(menu);
  }
  MenuItem item=menu.findItem(R.id.action_rename_file);
  if (item != null) {
    item.setVisible(false);
    item.setEnabled(false);
  }
  item=menu.findItem(R.id.action_move);
  if (item != null) {
    item.setVisible(false);
    item.setEnabled(false);
  }
  item=menu.findItem(R.id.action_download_file);
  if (item != null) {
    item.setVisible(false);
    item.setEnabled(false);
  }
  item=menu.findItem(R.id.action_settings);
  if (item != null) {
    item.setVisible(false);
    item.setEnabled(false);
  }
  item=menu.findItem(R.id.action_logger);
  if (item != null) {
    item.setVisible(false);
    item.setEnabled(false);
  }
  item=menu.findItem(R.id.action_sync_file);
  if (item != null) {
    item.setVisible(false);
    item.setEnabled(false);
  }
  item=menu.findItem(R.id.action_sync_account);
  if (item != null) {
    item.setVisible(false);
    item.setEnabled(false);
  }
}
