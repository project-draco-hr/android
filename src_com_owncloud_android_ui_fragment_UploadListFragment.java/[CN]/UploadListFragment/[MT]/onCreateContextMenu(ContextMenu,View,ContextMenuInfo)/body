{
  super.onCreateContextMenu(menu,v,menuInfo);
  MenuInflater inflater=getSherlockActivity().getMenuInflater();
  inflater.inflate(R.menu.upload_actions_menu,menu);
  ExpandableListContextMenuInfo info=(ExpandableListContextMenuInfo)menuInfo;
  int childPosition=ExpandableListView.getPackedPositionChild(info.packedPosition);
  int groupPosition=ExpandableListView.getPackedPositionGroup(info.packedPosition);
  UploadDbObject uploadFile=(UploadDbObject)mAdapter.getChild(groupPosition,childPosition);
  if (uploadFile.getUploadStatus() == UploadStatus.UPLOAD_SUCCEEDED || uploadFile.getUploadStatus() == UploadStatus.UPLOAD_FAILED_GIVE_UP) {
    MenuItem item=menu.findItem(R.id.action_cancel_upload);
    if (item != null) {
      item.setVisible(false);
      item.setEnabled(false);
    }
  }
}
