{
switch (which) {
case AlertDialog.BUTTON_POSITIVE:
{
      mNewFilename=((TextView)(getDialog().findViewById(R.id.user_input))).getText().toString();
      if (!FileUtils.isValidName(mNewFilename)) {
        Toast.makeText(getSherlockActivity(),R.string.filename_forbidden_characters,Toast.LENGTH_LONG).show();
        return;
      }
      mResult=true;
    }
case AlertDialog.BUTTON_NEGATIVE:
{
    dismiss();
    if (mListener != null)     mListener.onDismiss(this);
  }
}
}
