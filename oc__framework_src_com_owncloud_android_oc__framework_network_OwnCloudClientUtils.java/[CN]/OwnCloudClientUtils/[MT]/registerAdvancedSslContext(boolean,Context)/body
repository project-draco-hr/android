{
  Protocol pr=null;
  try {
    pr=Protocol.getProtocol("https");
    if (pr != null && mDefaultHttpsProtocol == null) {
      mDefaultHttpsProtocol=pr;
    }
  }
 catch (  IllegalStateException e) {
  }
  boolean isRegistered=(pr != null && pr.getSocketFactory() instanceof AdvancedSslSocketFactory);
  if (register && !isRegistered) {
    Protocol.registerProtocol("https",new Protocol("https",getAdvancedSslSocketFactory(context),443));
  }
 else   if (!register && isRegistered) {
    if (mDefaultHttpsProtocol != null) {
      Protocol.registerProtocol("https",mDefaultHttpsProtocol);
    }
  }
}
