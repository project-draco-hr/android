{
  PathLayout pl=(PathLayout)findViewById(R.id.pathLayout1);
  if (mIsDisplayingFile) {
    mIsDisplayingFile=false;
    setContentView(R.layout.main);
    pl=(PathLayout)findViewById(R.id.pathLayout1);
    Uri uri;
    if (mParents.empty()) {
      uri=ProviderTableMeta.CONTENT_URI;
    }
 else {
      uri=Uri.withAppendedPath(ProviderTableMeta.CONTENT_URI_DIR,mParents.peek());
    }
    mCursor=managedQuery(uri,null,ProviderTableMeta.FILE_ACCOUNT_OWNER + "=?",new String[]{mAccount.name},null);
    if (mCursor.moveToFirst()) {
      String s=mCursor.getString(mCursor.getColumnIndex(ProviderTableMeta.FILE_PATH));
      for (      String str : s.split("/")) {
        if (!TextUtils.isEmpty(str))         pl.push(DisplayUtils.HtmlDecode(str));
      }
    }
    getListView().setAdapter(new FileListListAdapter(mCursor,this));
    getListView().invalidate();
    return;
  }
  if (mParents.size() == 0) {
    super.onBackPressed();
    return;
  }
 else   if (mParents.size() == 1) {
    mParents.pop();
    pl.pop();
    mCursor=managedQuery(ProviderTableMeta.CONTENT_URI,null,ProviderTableMeta.FILE_ACCOUNT_OWNER + "=?",new String[]{mAccount.name},null);
  }
 else {
    mParents.pop();
    pl.pop();
    mCursor=managedQuery(Uri.withAppendedPath(ProviderTableMeta.CONTENT_URI_DIR,mParents.peek()),null,ProviderTableMeta.FILE_ACCOUNT_OWNER + "=?",new String[]{mAccount.name},null);
  }
  setListAdapter(new FileListListAdapter(mCursor,this));
  getListView().invalidate();
}
