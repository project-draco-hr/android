{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.pincodelock);
  Intent intent=getIntent();
  mActivity=intent.getStringExtra(EXTRA_ACTIVITY);
  mBCancel=(Button)findViewById(R.id.cancel);
  mPinHdr=(TextView)findViewById(R.id.pinHdr);
  mPinHdrExplanation=(TextView)findViewById(R.id.pinHdrExpl);
  mText1=(EditText)findViewById(R.id.txt1);
  mText1.requestFocus();
  getWindow().setSoftInputMode(android.view.WindowManager.LayoutParams.SOFT_INPUT_STATE_VISIBLE);
  mText2=(EditText)findViewById(R.id.txt2);
  mText3=(EditText)findViewById(R.id.txt3);
  mText4=(EditText)findViewById(R.id.txt4);
  SharedPreferences appPrefs=PreferenceManager.getDefaultSharedPreferences(getApplicationContext());
  if ((appPrefs.getString("PrefPinCode1",null) == null)) {
    setChangePincodeView(true);
    mPinCodeChecked=true;
    mNewPasswordEntered=true;
  }
 else {
    if (appPrefs.getBoolean("set_pincode",false)) {
      if (mActivity.equals("preferences")) {
        mPinHdr.setText(R.string.pincode_configure_your_pin);
        mPinHdrExplanation.setVisibility(View.VISIBLE);
        mPinCodeChecked=true;
        setChangePincodeView(true);
      }
 else {
        mBCancel.setVisibility(View.INVISIBLE);
        mBCancel.setVisibility(View.GONE);
        mPinHdr.setText(R.string.pincode_enter_pin_code);
        mPinHdrExplanation.setVisibility(View.INVISIBLE);
        setChangePincodeView(false);
      }
    }
 else {
      mPinHdr.setText(R.string.pincode_remove_your_pincode);
      mPinHdrExplanation.setVisibility(View.INVISIBLE);
      mPinCodeChecked=false;
      setChangePincodeView(true);
    }
  }
  setTextListeners();
  ActionBar actionBar=getSupportActionBar();
  actionBar.setIcon(DisplayUtils.getSeasonalIconId());
}
