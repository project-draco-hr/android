{
  View view=convertView;
  if (view == null) {
    LayoutInflater inflator=(LayoutInflater)mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    view=inflator.inflate(R.layout.list_layout,null);
  }
  if (mFiles.size() > position) {
    OCFile file=mFiles.get(position);
    TextView fileName=(TextView)view.findViewById(R.id.Filename);
    String name=file.getFileName();
    fileName.setText(name);
    ImageView fileIcon=(ImageView)view.findViewById(R.id.imageView1);
    if (file.getMimetype() == null || !file.getMimetype().equals("DIR")) {
      fileIcon.setImageResource(R.drawable.file);
    }
 else {
      fileIcon.setImageResource(R.drawable.ic_menu_archive);
    }
    ImageView downloaded=(ImageView)view.findViewById(R.id.imageView2);
    ImageView downloading=(ImageView)view.findViewById(R.id.imageView4);
    if (file.isDown()) {
      downloaded.setVisibility(View.VISIBLE);
      downloading.setVisibility(View.INVISIBLE);
    }
 else     if (file.isDownloading()) {
      downloaded.setVisibility(View.INVISIBLE);
      downloading.setVisibility(View.VISIBLE);
    }
 else {
      downloaded.setVisibility(View.INVISIBLE);
      downloading.setVisibility(View.INVISIBLE);
    }
    if (!file.isDirectory()) {
      view.findViewById(R.id.file_size).setVisibility(View.VISIBLE);
      view.findViewById(R.id.last_mod).setVisibility(View.VISIBLE);
      ((TextView)view.findViewById(R.id.file_size)).setText(DisplayUtils.bytesToHumanReadable(file.getFileLength()));
      ((TextView)view.findViewById(R.id.last_mod)).setText(DisplayUtils.unixTimeToHumanReadable(file.getModificationTimestamp()));
      if (!file.keepInSync()) {
        view.findViewById(R.id.imageView3).setVisibility(View.GONE);
      }
 else {
        view.findViewById(R.id.imageView3).setVisibility(View.VISIBLE);
      }
    }
 else {
      view.findViewById(R.id.file_size).setVisibility(View.GONE);
      view.findViewById(R.id.last_mod).setVisibility(View.GONE);
      view.findViewById(R.id.imageView3).setVisibility(View.GONE);
    }
  }
  return view;
}
