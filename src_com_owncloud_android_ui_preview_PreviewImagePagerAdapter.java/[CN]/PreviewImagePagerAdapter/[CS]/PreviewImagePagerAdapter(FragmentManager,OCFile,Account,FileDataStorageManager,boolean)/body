{
  super(fragmentManager);
  if (fragmentManager == null) {
    throw new IllegalArgumentException("NULL FragmentManager instance");
  }
  if (parentFolder == null) {
    throw new IllegalArgumentException("NULL parent folder");
  }
  if (storageManager == null) {
    throw new IllegalArgumentException("NULL storage manager");
  }
  mAccount=account;
  mStorageManager=storageManager;
  mImageFiles=mStorageManager.getFolderImages(parentFolder,onlyOnDevice);
  mObsoleteFragments=new HashSet<Object>();
  mObsoletePositions=new HashSet<Integer>();
  mDownloadErrors=new HashSet<Integer>();
  mCachedFragments=new HashMap<Integer,FileFragment>();
}
