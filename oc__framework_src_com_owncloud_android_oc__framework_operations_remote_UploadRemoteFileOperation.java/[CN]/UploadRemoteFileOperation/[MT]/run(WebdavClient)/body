{
  RemoteOperationResult result=null;
  try {
synchronized (mCancellationRequested) {
      if (mCancellationRequested.get()) {
        throw new OperationCancelledException();
      }
 else {
        mPutMethod=new PutMethod(client.getBaseUri() + WebdavUtils.encodePath(mRemotePath));
      }
    }
    int status=uploadFile(client);
    result=new RemoteOperationResult(isSuccess(status),status,(mPutMethod != null ? mPutMethod.getResponseHeaders() : null));
  }
 catch (  Exception e) {
    if (mCancellationRequested.get()) {
      result=new RemoteOperationResult(new OperationCancelledException());
    }
 else {
      result=new RemoteOperationResult(e);
    }
  }
  return result;
}
