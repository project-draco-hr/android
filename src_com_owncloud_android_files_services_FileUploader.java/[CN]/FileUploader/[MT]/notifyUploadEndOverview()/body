{
  if (mSuccessCounter == mTotalFilesToSend) {
    mNotification.flags^=Notification.FLAG_ONGOING_EVENT;
    mNotification.flags|=Notification.FLAG_AUTO_CANCEL;
    mNotification.contentView=mDefaultNotificationContentView;
    mNotification.contentIntent=PendingIntent.getActivity(getApplicationContext(),0,new Intent(),PendingIntent.FLAG_UPDATE_CURRENT);
    if (mTotalFilesToSend == 1) {
      mNotification.setLatestEventInfo(getApplicationContext(),getString(R.string.uploader_upload_succeeded_ticker),String.format(getString(R.string.uploader_upload_succeeded_content_single),(new File(mUploads.get(0).getLocalPath())).getName()),mNotification.contentIntent);
    }
 else {
      mNotification.setLatestEventInfo(getApplicationContext(),getString(R.string.uploader_upload_succeeded_ticker),String.format(getString(R.string.uploader_upload_succeeded_content_multiple),mSuccessCounter),mNotification.contentIntent);
    }
    mNotificationManager.notify(R.string.uploader_upload_in_progress_ticker,mNotification);
  }
 else {
    mNotificationManager.cancel(R.string.uploader_upload_in_progress_ticker);
    Notification finalNotification=new Notification(R.drawable.icon,getString(R.string.uploader_upload_failed_ticker),System.currentTimeMillis());
    finalNotification.flags|=Notification.FLAG_AUTO_CANCEL;
    finalNotification.contentIntent=PendingIntent.getActivity(getApplicationContext(),0,new Intent(),PendingIntent.FLAG_UPDATE_CURRENT);
    if (mTotalFilesToSend == 1) {
      finalNotification.setLatestEventInfo(getApplicationContext(),getString(R.string.uploader_upload_failed_ticker),String.format(getString(R.string.uploader_upload_failed_content_single),(new File(mUploads.get(0).getLocalPath())).getName()),finalNotification.contentIntent);
    }
 else {
      finalNotification.setLatestEventInfo(getApplicationContext(),getString(R.string.uploader_upload_failed_ticker),String.format(getString(R.string.uploader_upload_failed_content_multiple),mSuccessCounter,mTotalFilesToSend),finalNotification.contentIntent);
    }
    mNotificationManager.notify(R.string.uploader_upload_failed_ticker,finalNotification);
  }
}
