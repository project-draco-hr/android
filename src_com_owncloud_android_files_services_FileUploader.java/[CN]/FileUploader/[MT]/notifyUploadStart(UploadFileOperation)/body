{
  mLastPercent=0;
  mNotification=new Notification(R.drawable.icon,getString(R.string.uploader_upload_in_progress_ticker),System.currentTimeMillis());
  mNotification.flags|=Notification.FLAG_ONGOING_EVENT;
  mDefaultNotificationContentView=mNotification.contentView;
  mNotification.contentView=new RemoteViews(getApplicationContext().getPackageName(),R.layout.progressbar_layout);
  mNotification.contentView.setProgressBar(R.id.status_progress,100,0,false);
  mNotification.contentView.setTextViewText(R.id.status_text,String.format(getString(R.string.uploader_upload_in_progress_content),0,upload.getFileName()));
  mNotification.contentView.setImageViewResource(R.id.status_icon,R.drawable.icon);
  Intent showDetailsIntent=new Intent(this,FileDetailActivity.class);
  showDetailsIntent.putExtra(FileDetailFragment.EXTRA_FILE,upload.getFile());
  showDetailsIntent.putExtra(FileDetailFragment.EXTRA_ACCOUNT,upload.getAccount());
  showDetailsIntent.putExtra(FileDetailActivity.EXTRA_MODE,FileDetailActivity.MODE_DETAILS);
  showDetailsIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
  mNotification.contentIntent=PendingIntent.getActivity(getApplicationContext(),(int)System.currentTimeMillis(),showDetailsIntent,0);
  mNotificationManager.notify(R.string.uploader_upload_in_progress_ticker,mNotification);
}
