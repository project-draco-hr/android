{
  mUsername=mAccount.name.substring(0,mAccount.name.indexOf('@'));
  mPassword=mAccountManager.getPassword(mAccount);
  setContentView(R.layout.uploader_layout);
  mCursor=managedQuery(ProviderMeta.ProviderTableMeta.CONTENT_URI,null,ProviderTableMeta.FILE_NAME + "=? AND " + ProviderTableMeta.FILE_ACCOUNT_OWNER+ "=?",new String[]{"/",mAccount.name},null);
  if (mCursor.moveToFirst()) {
    mCursor=managedQuery(ProviderMeta.ProviderTableMeta.CONTENT_URI,null,ProviderTableMeta.FILE_CONTENT_TYPE + "=? AND " + ProviderTableMeta.FILE_ACCOUNT_OWNER+ "=? AND "+ ProviderTableMeta.FILE_PARENT+ "=?",new String[]{"DIR",mAccount.name,mCursor.getString(mCursor.getColumnIndex(ProviderTableMeta._ID))},null);
    ListView lv=getListView();
    lv.setOnItemClickListener(this);
    SimpleCursorAdapter sca=new SimpleCursorAdapter(this,R.layout.uploader_list_item_layout,mCursor,new String[]{ProviderTableMeta.FILE_NAME},new int[]{R.id.textView1});
    setListAdapter(sca);
    Button btn=(Button)findViewById(R.id.uploader_choose_folder);
    btn.setOnClickListener(this);
  }
}
