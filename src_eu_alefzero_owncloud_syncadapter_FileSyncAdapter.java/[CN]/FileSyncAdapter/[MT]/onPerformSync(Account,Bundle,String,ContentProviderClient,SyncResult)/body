{
  this.setAccount(account);
  this.setContentProvider(provider);
  this.setStorageManager(new FileDataStorageManager(account,getContentProvider()));
  Log.d("ASD","syncing owncloud account " + account.name);
  Intent i=new Intent(FileSyncService.SYNC_MESSAGE);
  i.putExtra(FileSyncService.IN_PROGRESS,true);
  i.putExtra(FileSyncService.ACCOUNT_NAME,account.name);
  getContext().sendStickyBroadcast(i);
  PropFindMethod query;
  try {
    mCurrentSyncTime=System.currentTimeMillis();
    query=new PropFindMethod(getUri().toString() + "/");
    getClient().executeMethod(query);
    MultiStatus resp=null;
    resp=query.getResponseBodyAsMultiStatus();
    if (resp.getResponses().length > 0) {
      WebdavEntry we=new WebdavEntry(resp.getResponses()[0]);
      OCFile file=fillOCFile(we);
      file.setParentId(0);
      getStorageManager().saveFile(file);
      fetchData(getUri().toString(),syncResult,file.getFileId());
    }
  }
 catch (  OperationCanceledException e) {
    e.printStackTrace();
  }
catch (  AuthenticatorException e) {
    syncResult.stats.numAuthExceptions++;
    e.printStackTrace();
  }
catch (  IOException e) {
    syncResult.stats.numIoExceptions++;
    e.printStackTrace();
  }
catch (  DavException e) {
    syncResult.stats.numIoExceptions++;
    e.printStackTrace();
  }
  i.putExtra(FileSyncService.IN_PROGRESS,false);
  getContext().sendStickyBroadcast(i);
}
